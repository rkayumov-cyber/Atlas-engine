server {
    listen 80;
    server_name _;

    root /usr/share/nginx/html;
    index index.html;

    # Reverse-proxy API calls to the three Atlas nodes
    location /api/node1/ {
        proxy_pass http://node-1:5000/;
    }
    location /api/node2/ {
        proxy_pass http://node-2:5000/;
    }
    location /api/node3/ {
        proxy_pass http://node-3:5000/;
    }
    location /api/node4/ {
        proxy_pass http://node-4:5000/;
    }
    location /api/node5/ {
        proxy_pass http://node-5:5000/;
    }
    location /api/node6/ {
        proxy_pass http://node-6:5000/;
    }

    location / {
        try_files $uri $uri/ =404;
    }
}
